<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>消息队列 | Wiki知识库</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="纵有疾风起，人生不言弃">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.855c2202.css" as="style"><link rel="preload" href="/assets/js/app.b91711c7.js" as="script"><link rel="preload" href="/assets/js/7.9d515fbf.js" as="script"><link rel="preload" href="/assets/js/2.5da332ff.js" as="script"><link rel="preload" href="/assets/js/1.4298cda3.js" as="script"><link rel="preload" href="/assets/js/63.4a797bc8.js" as="script"><link rel="prefetch" href="/assets/js/10.d355181a.js"><link rel="prefetch" href="/assets/js/11.8134c8e9.js"><link rel="prefetch" href="/assets/js/14.b0d5c555.js"><link rel="prefetch" href="/assets/js/15.ccee4aa5.js"><link rel="prefetch" href="/assets/js/16.c1837ea3.js"><link rel="prefetch" href="/assets/js/17.25ce5de6.js"><link rel="prefetch" href="/assets/js/18.975768de.js"><link rel="prefetch" href="/assets/js/19.41d12e27.js"><link rel="prefetch" href="/assets/js/20.c933e526.js"><link rel="prefetch" href="/assets/js/21.0c7ffc83.js"><link rel="prefetch" href="/assets/js/22.ce27a662.js"><link rel="prefetch" href="/assets/js/23.1956bc99.js"><link rel="prefetch" href="/assets/js/24.a9868885.js"><link rel="prefetch" href="/assets/js/25.d4488dc7.js"><link rel="prefetch" href="/assets/js/26.dcece5f0.js"><link rel="prefetch" href="/assets/js/27.bbdc0b8a.js"><link rel="prefetch" href="/assets/js/28.b2aedd35.js"><link rel="prefetch" href="/assets/js/29.acfc3a3b.js"><link rel="prefetch" href="/assets/js/3.13a69347.js"><link rel="prefetch" href="/assets/js/30.84c3f959.js"><link rel="prefetch" href="/assets/js/31.31ae9989.js"><link rel="prefetch" href="/assets/js/32.581577ae.js"><link rel="prefetch" href="/assets/js/33.944c0534.js"><link rel="prefetch" href="/assets/js/34.a4aa8037.js"><link rel="prefetch" href="/assets/js/35.57055faf.js"><link rel="prefetch" href="/assets/js/36.c04313ea.js"><link rel="prefetch" href="/assets/js/37.03d0ce84.js"><link rel="prefetch" href="/assets/js/38.adfa6339.js"><link rel="prefetch" href="/assets/js/39.408c0071.js"><link rel="prefetch" href="/assets/js/4.1112ff6a.js"><link rel="prefetch" href="/assets/js/40.ee24e9e8.js"><link rel="prefetch" href="/assets/js/41.9f5d89de.js"><link rel="prefetch" href="/assets/js/42.b713072b.js"><link rel="prefetch" href="/assets/js/43.50b9023f.js"><link rel="prefetch" href="/assets/js/44.9408f400.js"><link rel="prefetch" href="/assets/js/45.66484097.js"><link rel="prefetch" href="/assets/js/46.a8c56999.js"><link rel="prefetch" href="/assets/js/47.02561748.js"><link rel="prefetch" href="/assets/js/48.c444a6c2.js"><link rel="prefetch" href="/assets/js/49.5da9d159.js"><link rel="prefetch" href="/assets/js/5.7f78909b.js"><link rel="prefetch" href="/assets/js/50.dd33d1e1.js"><link rel="prefetch" href="/assets/js/51.3021f459.js"><link rel="prefetch" href="/assets/js/52.d6bb03b4.js"><link rel="prefetch" href="/assets/js/53.ddb0b5b4.js"><link rel="prefetch" href="/assets/js/54.eae38949.js"><link rel="prefetch" href="/assets/js/55.b48f6372.js"><link rel="prefetch" href="/assets/js/56.b047cdc3.js"><link rel="prefetch" href="/assets/js/57.06e4776f.js"><link rel="prefetch" href="/assets/js/58.61ab626d.js"><link rel="prefetch" href="/assets/js/59.01b5f5a5.js"><link rel="prefetch" href="/assets/js/6.a8de1a57.js"><link rel="prefetch" href="/assets/js/60.e3bf72a0.js"><link rel="prefetch" href="/assets/js/61.063384cd.js"><link rel="prefetch" href="/assets/js/62.6dba9a2d.js"><link rel="prefetch" href="/assets/js/64.525591b0.js"><link rel="prefetch" href="/assets/js/65.d21c9ee5.js"><link rel="prefetch" href="/assets/js/66.8321b932.js"><link rel="prefetch" href="/assets/js/67.85226520.js"><link rel="prefetch" href="/assets/js/68.ae5ddf2c.js"><link rel="prefetch" href="/assets/js/69.81bbd6d3.js"><link rel="prefetch" href="/assets/js/70.a8fc8534.js"><link rel="prefetch" href="/assets/js/71.12c3e024.js"><link rel="prefetch" href="/assets/js/72.699b211f.js"><link rel="prefetch" href="/assets/js/73.b309b6c6.js"><link rel="prefetch" href="/assets/js/74.93cc03dd.js"><link rel="prefetch" href="/assets/js/75.8c2e27e1.js"><link rel="prefetch" href="/assets/js/76.dd3177c3.js"><link rel="prefetch" href="/assets/js/77.bfbf8f8f.js"><link rel="prefetch" href="/assets/js/78.43d9fbf2.js"><link rel="prefetch" href="/assets/js/79.01c5b56f.js"><link rel="prefetch" href="/assets/js/8.4ec37cc7.js"><link rel="prefetch" href="/assets/js/80.987c4695.js"><link rel="prefetch" href="/assets/js/81.8dd69880.js"><link rel="prefetch" href="/assets/js/82.2dae0764.js"><link rel="prefetch" href="/assets/js/83.ddeca976.js"><link rel="prefetch" href="/assets/js/84.83c16b17.js"><link rel="prefetch" href="/assets/js/85.36c6e0cd.js"><link rel="prefetch" href="/assets/js/86.7f807c97.js"><link rel="prefetch" href="/assets/js/87.745a54cc.js"><link rel="prefetch" href="/assets/js/9.e51dbdf5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a372b0f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.855c2202.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Wiki知识库</h3> <p class="description" data-v-59e6cb88>纵有疾风起，人生不言弃</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Scr1Pt</span>
          
        <!---->
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wiki知识库</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/nginx/" class="nav-link"><i class="iconfont reco-document"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/pages/redis/" class="nav-link"><i class="iconfont reco-document"></i>
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/pages/rabbitmq/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  RabbitMQ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      云原生
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/docker/" class="nav-link"><i class="iconfont reco-document"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="iconfont reco-document"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/scr1pt-yang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/头像.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    Scr1Pt
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>49</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>5</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/nginx/" class="nav-link"><i class="iconfont reco-document"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/pages/redis/" class="nav-link"><i class="iconfont reco-document"></i>
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/pages/rabbitmq/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  RabbitMQ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      云原生
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/docker/" class="nav-link"><i class="iconfont reco-document"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="iconfont reco-document"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/scr1pt-yang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔记简介</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/rabbitmq/" aria-current="page" class="sidebar-link">概述</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RabbitMQ详解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/rabbitmq/消息队列.html" class="active sidebar-link">1.消息队列</a></li><li><a href="/pages/rabbitmq/简单模式.html" class="sidebar-link">2.简单模式(Hello World)</a></li><li><a href="/pages/rabbitmq/工作队列模式.html" class="sidebar-link">3.工作队列模式(Work Queue)</a></li><li><a href="/pages/rabbitmq/消息应答机制.html" class="sidebar-link">4.消息应答机制</a></li><li><a href="/pages/rabbitmq/持久化机制.html" class="sidebar-link">5.持久化机制</a></li><li><a href="/pages/rabbitmq/发布确认机制.html" class="sidebar-link">6.发布确认机制</a></li><li><a href="/pages/rabbitmq/RabbitMQ交换机.html" class="sidebar-link">7.RabbitMQ交换机</a></li><li><a href="/pages/rabbitmq/发布订阅模式.html" class="sidebar-link">8.发布订阅模式(Publish_Subscribe)</a></li><li><a href="/pages/rabbitmq/路由模式.html" class="sidebar-link">9.路由模式(Routing)</a></li><li><a href="/pages/rabbitmq/通配符模式.html" class="sidebar-link">10.通配符模式(Topics)</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>消息队列</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Scr1Pt</span>
          
        <!---->
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">消息队列</h1> <div data-v-31f39441><i class="iconfont reco-account" data-v-31f39441><span data-v-31f39441>Scr1Pt</span></i> <i class="iconfont reco-date" data-v-31f39441><span data-v-31f39441>12/3/2023</span></i> <i class="iconfont reco-eye" data-v-31f39441><span id="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-31f39441><a class="leancloud-visitors-count" style="font-size:1rem;font-weight:700;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-31f39441><span class="tag-item" data-v-31f39441>RabbitMQ</span><span class="tag-item" data-v-31f39441>消息队列</span></i></div></div> <div class="theme-reco-content content__default"><hr> <h1 id="一、mq的相关概念"><a href="#一、mq的相关概念" class="header-anchor">#</a> 一、MQ的相关概念</h1> <h2 id="_1、什么是mq"><a href="#_1、什么是mq" class="header-anchor">#</a> 1、什么是MQ</h2> <p>MQ(message queue)，从字面意思上看，本质是个队列，FIFO 先进先出，只不过队列中存放的内容是 message 而已，这是一种跨进程的通信机制，多用于系统之间的异步通信。在互联网架构中，MQ 是一种非常常见的上下游“逻辑解耦+物理解耦”的消息通信服务。使用了 MQ 之后，消息发送上游只需要依赖 MQ，不用依赖其他服务。<br>MQ通过典型的生产者和消费者模型，生产者不断向消息队列中生产消息，消费者不断的从队列中获取消息。因为消息的生产和消费都是异步的，而且只关心消息的发送和接收，没有业务逻辑的侵入,轻松的实现系统间解耦。</p> <h2 id="_2、mq应用场景"><a href="#_2、mq应用场景" class="header-anchor">#</a> 2、MQ应用场景</h2> <h3 id="_1-应用解耦"><a href="#_1-应用解耦" class="header-anchor">#</a> 1.应用解耦</h3> <p>以电商应用为例，应用中有订单系统、库存系统、物流系统、支付系统。用户创建订单后，如果耦合调用库存系统、物流系统、支付系统，任何一个子系统出了故障，都会造成下单操作异常。当转变成基于消息队列的方式后，系统间调用的问题会减少很多，如下图中订单系统将消息先发送到 MQ 中，MQ 再转发到其他系统。如果此时库存系统出现故障，不会影响整个下单操作，当库存系统恢复后，继续处理订单信息即可；并且如果需求修改，新增了一个 X 系统，此时无需修改订单系统的代码，只需修改 MQ 将消息发送给 X 系统即可。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-1.png" alt="image.png"></p> <h3 id="_2-流量消峰"><a href="#_2-流量消峰" class="header-anchor">#</a> 2.流量消峰</h3> <p>举个例子，如果订单系统最多能处理一万次订单，这个处理能力应付正常时段的下单时绰绰有余，正常时段我们下单一秒后就能返回结果。但是在高峰期，如果有两万次下单操作系统是处理不了的，只能限制订单超过一万后不允许用户下单。但是这种情况对于用户来说是很不友好的。<br>通过使用消息队列做缓冲，我们可以取消这个限制，把一秒内下的订单分散成一段时间来处理，这时有些用户可能在下单十几秒后才能收到下单成功的操作，但是比不能下单的体验要好。</p> <h3 id="_3-异步处理"><a href="#_3-异步处理" class="header-anchor">#</a> 3.异步处理</h3> <p>有些服务间的调用是可以异步的，例如 A 调用 B，B 需要花费很长时间执行，但是 A 需要知道 B 什么时候可以执行完，以前一般有两种方式，A 过一段时间去调用 B 的查询 api 查询。或者 A 提供一个 callback api， B 执行完之后调用 api 通知 A 服务。这两种方式都不是很优雅，通过使用消息队列，可以很方便解决这个问题， A 调用 B 服务后，只需要监听 B 处理完成的消息，当 B 处理完成后，会发送一条消息给 MQ，MQ 会将此消息转发给 A 服务。这样 A 服务既不用循环调用 B 的查询 api，也不用提供 callback api。同样 B 服务也不用做这些操作。A 服务还能及时的得到异步处理成功的消息。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-2.png" alt="image.png"></p> <h2 id="_3、mq的分类"><a href="#_3、mq的分类" class="header-anchor">#</a> 3、MQ的分类</h2> <h3 id="_1-activemq"><a href="#_1-activemq" class="header-anchor">#</a> 1.ActiveMQ</h3> <p>ActiveMQ 是由 Apache 出品，一款能力强劲的开源消息总线。它是一个完全支持 JMS 规范的的消息中间件。提供丰富的API，多种集群架构模式让 ActiveMQ 在业界成为老牌的消息中间件，在中小型企业颇受欢迎。</p> <ul><li>优点：单机吞吐量万级，时效性 ms 级，可用性高，基于主从架构实现高可用性，消息可靠性较低的概率丢失数据。</li> <li>缺点：官方社区现在对 ActiveMQ 5.x 维护越来越少，高吞吐量场景较少使用。</li></ul> <h3 id="_2-kafka"><a href="#_2-kafka" class="header-anchor">#</a> 2.Kafka</h3> <p>Kafka 是 LinkedIn开源的分布式发布-订阅消息系统，目前归属于Apache顶级项目。Kafka主要特点是基于Pull的模式来处理消息消费，追求高吞吐量，适合产生大量数据的互联网服务的数据收集业务。是大数据的杀手锏，谈到大数据领域内的消息传输，则绕不开Kafka，这款为大数据而生的消息中间件，以其<strong>百万级TPS</strong>的吞吐量名声大噪，迅速成为大数据领域的宠儿，在数据采集、传输、存储的过程中发挥着举足轻重的作用。目前已经被LinkedIn，Uber, Twitter, Netflix等大公司所采纳。</p> <ul><li>优点:  性能卓越，单机写入 TPS 约在百万条/秒，最大的优点，就是<strong>吞吐量高</strong>。时效性 ms 级可用性非常高，kafka 是分布式的，一个数据多个副本，少数机器宕机，不会丢失数据，不会导致不可用，消费者采用 Pull 方式获取消息,  消息有序,  通过控制能够保证所有消息被消费且仅被消费一次；有优秀的第三方 Kafka Web 管理界面 Kafka-Manager；在日志领域比较成熟，被多家公司和多个开源项目使用；功能较为简单，主要支持简单的 MQ 功能，在大数据领域实时计算以及<strong>日志采集</strong>被大规模使用。</li> <li>缺点：Kafka 单机超过 64 个队列/分区，Load 会发生明显的飙高现象，队列越多，load 越高，发送消息响应时间变长，使用短轮询方式，实时性取决于轮询间隔时间，消费失败不支持重试；支持消息顺序，但是一台代理宕机后，就会产生消息乱序，社区更新较慢；</li></ul> <h3 id="_3-rocketmq"><a href="#_3-rocketmq" class="header-anchor">#</a> 3.RocketMQ</h3> <p>RocketMQ是阿里开源的消息中间件，它是纯Java开发，具有高吞吐量、高可用性、适合大规模分布式系统应用的特点。RocketMQ思路起源于Kafka，但并不是Kafka的一个Copy，它对消息的可靠传输及事务性做了优化，目前在阿里集团被广泛应用于交易、充值、流计算、消息推送、日志流式处理、binglog分发等场景。</p> <ul><li>优点：<strong>单机吞吐量十万级</strong>，可用性非常高，分布式架构，消息可以<strong>做到 0 丢失</strong>，MQ 功能较为完善，还是分布式的，扩展性好，<strong>支持 10 亿级别的消息堆积</strong>，不会因为堆积导致性能下降，源码是 java。</li> <li>缺点：支持的<strong>客户端语言不多</strong>，目前我了解到有 java 和 c++，其中 c++不成熟；社区活跃度一般，没有在MQ核心中去实现 JMS 等接口，有些系统要迁移需要修改大量代码。</li></ul> <h3 id="_4-rabbitmq"><a href="#_4-rabbitmq" class="header-anchor">#</a> 4.RabbitMQ</h3> <p>RabbitMQ 是使用 Erlang 语言开发的开源消息队列系统，基于 AMQP 协议（高级消息队列协议）来实现。AMQP 的主要特征是面向消息、队列、路由（包括点对点和发布/订阅）、可靠性、安全。AMQP 协议更多用在企业系统内对数据一致性、稳定性和可靠性要求很高的场景，对性能和吞吐量的要求还在其次。</p> <ul><li>优点：由于 erlang 语言的<strong>高并发特性</strong>，性能较好；<strong>吞吐量到万级</strong>，MQ 功能比较完备，健壮、稳定、易用、跨平台、<strong>支持多种语言</strong>，如：Python、Ruby、.NET、Java、JMS、C、PHP、ActionScript、XMPP、STOMP等，支持 AJAX 文档齐全；开源提供的管理界面非常棒，用起来很好用，<strong>社区活跃度高</strong>；更新频率相当高。</li> <li>缺点：商业版需要收费,学习成本较高。</li></ul> <h2 id="_4、mq的比较"><a href="#_4、mq的比较" class="header-anchor">#</a> 4、MQ的比较</h2> <p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-3.png" alt="image.png"></p> <h2 id="_5、amqp和jms"><a href="#_5、amqp和jms" class="header-anchor">#</a> 5、AMQP和JMS</h2> <p><strong>AMQP</strong>，即 Advanced Message Queuing Protocol，一个提供统一消息服务的应用层标准 高级消息队列协议（二进制应用层协议），是应用层协议的一个开放标准，为面向消息的中间件设计。基于此协议的客户端与消息中间件可传递消息，并不受中间件产品、开发语言等条件的限制。类比 HTTP 协议。<br><strong>JMS</strong>，即 Java Message Service，是 Java 的消息服务，JMS 的客户端之间可以通过 JMS 服务进行异步的消息传输。JMS API 是一个消息服务的标准或者说是规范，允许应用程序组件基于 JavaEE 平台创建、发送、接收和读取消息。一种规范，和 JDBC、Jedis 担任的角色类似。</p> <ul><li>JMS 是定义了统一的接口来<strong>统一消息操作</strong>；AMQP 通过协议<strong>统一数据交换格式。</strong></li> <li>JMS 必须使用 Java 语言；AMQP 只是协议，与语言无关（跨语言）。</li> <li>JMS 规定了两种消息模型（队列模型和发布订阅模型）；AMQP 的消息模型更为丰富。</li></ul> <h1 id="二、rabbitmq简介"><a href="#二、rabbitmq简介" class="header-anchor">#</a> 二、RabbitMQ简介</h1> <p>RabbitMQ 是一个消息中间件：它接受并转发消息。可以把它当做一个快递站点，当要发送一个包裹时，把包裹先放到快递站，快递员最终会把快递送到收件人那里，按照这种逻辑，RabbitMQ 就是一个快递站，一个快递员帮你传递快件。RabbitMQ 与快递站的主要区别在于，它不处理快件而是接收，存储和转发消息数据。</p> <h2 id="_1、四大组成部分"><a href="#_1、四大组成部分" class="header-anchor">#</a> 1、四大组成部分</h2> <ol><li><strong>生产者</strong>：产生数据发送消息的程序是生产者。</li> <li><strong>交换机</strong>：交换机是RabbitMQ非常重要的一个部件，一方面它接收来自生产者的消息，另一方面它将消息推送到队列中。交换机必须确切的知道如何处理它接收到的消息，是将这些消息推送到特定队列还是推送到多个队列，亦或者是把消息丢弃，这个得由交换机的类型决定。</li> <li><strong>队列</strong>：队列是RabbitMQ内部使用的一种数据结构，尽管消息流经RabbitMQ和应用程序，但它们只能存储在队列中。队列仅受主机的内存和磁盘限制的约束，本质上是一个大的消息缓冲区。许多生产者可以将消息发送到一个队列，许多消费者可以尝试从一个队列接收数据。</li> <li>**消费者：**消费与接收具有相似的含义。消费者大多时候是一个等待接收消息的程序。请注意生产者，消费者和消息中间件很多时候并不在同一机器上。同一个应用程序既可以是生产者又是可以是消费者。</li></ol> <h2 id="_2、rabbitmq核心概念"><a href="#_2、rabbitmq核心概念" class="header-anchor">#</a> 2、RabbitMQ核心概念</h2> <p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-4.png" alt="result.png"></p> <h3 id="_1-producer"><a href="#_1-producer" class="header-anchor">#</a> 1.Producer</h3> <p>消息的生产者。也是一个向交换机发布消息的客户端应用程序。</p> <h3 id="_2-consumer"><a href="#_2-consumer" class="header-anchor">#</a> <strong>2.Consumer</strong></h3> <p>消息的消费者。表示一个从消息队列中取得消息的客户端应用程序。</p> <h3 id="_3-connection"><a href="#_3-connection" class="header-anchor">#</a> <strong>3.Connection</strong></h3> <p>生产者/消费者和 RabbitMQ 服务器之间建立的 TCP 连接。</p> <h3 id="_4-channel"><a href="#_4-channel" class="header-anchor">#</a> <strong>4.Channel</strong></h3> <p>如果每一次访问 RabbitMQ 都建立一个Connection，在消息量大的时候建立 TCP Connection的开销将是巨大的，效率也较低。Channel是在connection内部建立的逻辑连接，如果应用程序支持多线程，通常每个thread创建单独的channel进行通讯，AMQP method包含了channel id 帮助客户端和message broker 识别 channel，所以channel之间是完全隔离的。Channel作为轻量级的Connection极大减少了操作系统建立TCP connection的开销。</p> <h3 id="_5-broker"><a href="#_5-broker" class="header-anchor">#</a> <strong>5.Broker</strong></h3> <p>消息队列服务器实体。即 RabbitMQ 服务器，是接收和分发消息的应用。</p> <h3 id="_6-queue"><a href="#_6-queue" class="header-anchor">#</a> <strong>6.Queue</strong></h3> <p>消息队列。用来<strong>保存消息直到发送给消费者</strong>。它是消息的<strong>容器</strong>，也是消息的终点。消息一直在队列里面，等待消费者链接到这个队列将其取走。</p> <h3 id="_7-exchange"><a href="#_7-exchange" class="header-anchor">#</a> <strong>7.Exchange</strong></h3> <p>交换机。用来<strong>接收生产者发送的消息</strong>，并根据分发规则，将这些消息分发给服务器中的队列中。<strong>不同的交换机有不同的分发规则</strong>。根据分发规则，去匹配查询表中的 routing key，分发消息到queue 中去。</p> <div class="custom-block tip"><p class="title"></p><p>rabbitMQ 交换机类型有4种：</p> <ul><li>direct(直连)：它会把消息路由到那些 BindingKey RoutingKey完全匹配的队列中。</li> <li>fanout(扇形)：它会把所有发送到该交换器的消息路由到所有与该交换器绑定的队列中。</li> <li>topic(主题)：将消息路由到 BindingKey RoutingKey 相匹配的队列中。</li> <li>headers(标题)：交换器不依赖于路由键的匹配规则来路由消息，而是根据发送的消息内容中headers 属性进行匹配。</li></ul></div><p>直连交换机（dirext exchange）为 RabbitMQ 默认的交换机。</p> <h3 id="_8-binding"><a href="#_8-binding" class="header-anchor">#</a> 8.Binding</h3> <p>消息队列和交换机之间的虚拟连接，绑定中包含routing key，Binding信息保存到交换机的路由表中，作为消息的分发依据。</p> <h3 id="_9-virtual-host"><a href="#_9-virtual-host" class="header-anchor">#</a> 9.Virtual Host</h3> <p>虚拟主机。出于多租户和安全因素设计的，把 AMQP 的基本组件划分到一个虚拟的分组中。每个 Virtual Host 本质上就是一个 mini 版的 RabbitMQ 服务器，拥有自己的队列、交换机、绑定和权限机制。类似于网络中的namespace概念。当多个不同的用户使用同一个 RabbitMQ 服务器时，可以划分出多个虚拟主机。每个用户都可以在自己的 vhost 中创建 exchange／queue。RabbitMQ 默认的虚拟主机路径是<code>/</code></p> <h2 id="_3、rabbitmq工作模式"><a href="#_3、rabbitmq工作模式" class="header-anchor">#</a> 3、RabbitMQ工作模式</h2> <p>RabbitMQ 共有六种工作模式：</p> <ul><li>简单模式（Hello World）</li> <li>工作队列模式（Work Queue）</li> <li>发布订阅模式（Publish/Subscribe）</li> <li>路由模式（Routing）</li> <li>通配符模式（Topics）</li> <li>远程调用模式（RPC，不常用)</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-5.png" alt="image.png"></p> <h1 id="三、rabbitmq安装"><a href="#三、rabbitmq安装" class="header-anchor">#</a> 三、RabbitMQ安装</h1> <h2 id="_1、安装-erlang"><a href="#_1、安装-erlang" class="header-anchor">#</a> 1、安装 Erlang</h2> <p>RabbitMQ 是使用 Erlang 语言编写的，所以在安装 RabbitMQ 前需要先安装 Erlang 环境。<br><strong>Erlang和RabbitMQ版本对照：</strong><a href="https://www.rabbitmq.com/which-erlang.html" target="_blank" rel="noopener noreferrer">https://www.rabbitmq.com/which-erlang.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>Erlang下载地址：<a href="https://packagecloud.io/rabbitmq/erlang" target="_blank" rel="noopener noreferrer">https://packagecloud.io/rabbitmq/erlang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#安装Erlang所需的依赖</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> epel-release

<span class="token comment"># 解压</span>
<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> erlang-23.2.7-2.el7.x86_64.rpm

<span class="token comment">#安装Erlang</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> erlang

<span class="token comment">#查看Erlang是否安装成功</span>
erl <span class="token parameter variable">-version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_2、安装rabbitmq"><a href="#_2、安装rabbitmq" class="header-anchor">#</a> 2、安装RabbitMQ</h2> <p>RabbitMQ官网地址：<a href="https://www.rabbitmq.com/download.html" target="_blank" rel="noopener noreferrer">https://www.rabbitmq.com/download.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>将RabbitMQ的rpm包下载下来并保存到到本地的<code>/usr/local/software</code>目录下(如果没有software建议自己创建)。<br>在RabiitMQ安装过程中需要依赖socat插件，首先安装该插件，然后解压RabbitMQ的安装包。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装socat插件</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> socat

<span class="token comment"># 解压</span>
<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> rabbitmq-server-3.8.14-1.el7.noarch.rpm
 
<span class="token comment"># 安装</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> rabbitmq-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>此处如果安装过程出现错误，有可能是因为主机名的设置不规范导致，建议修改主机名后重新安装。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 修改文件</span>
<span class="token function">vim</span> /etc/sysconfig/network

<span class="token comment"># 添加如下内容（名字可自定义）</span>
<span class="token assign-left variable">NETWORKING</span><span class="token operator">=</span>yes
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span>localhost

<span class="token comment"># 修改文件</span>
<span class="token function">vim</span> /etc/hosts

<span class="token comment"># 添加如下内容：服务器ip 主机名</span>
<span class="token number">192.168</span>.222.139 localhost
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>安装完成以后启动RabbitMQ</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 启动rabbitmq</span>
systemctl start rabbitmq-server
 
<span class="token comment"># 查看rabbitmq状态</span>
systemctl status rabbitmq-server

<span class="token comment"># 设置开机自启</span>
systemctl <span class="token builtin class-name">enable</span> rabbitmq-server

<span class="token comment"># 停止rabbitmq</span>
systemctl stop rabbitmq-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-6.png" alt="image.png"><br>显示active则表示服务安装并启动成功。<br>最后我们想方便的对RabbitMQ进行查看和管理，可以开启web端控制台插件。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 打开RabbitMQWeb管理界面插件</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>RabbitMQ 默认端口是 <code>5672</code>，管控台的默认端口为 <code>15672</code><br>开启以后就可以在浏览器通过<code>http://192.168.222.139:15672/</code>访问web管理控制台。<br>如果发现访问不通大概率是因为防火墙没有开放相应端口，进行如下设置：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#  开放5672,15672端口</span>
firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">5672</span>/tcp <span class="token parameter variable">--permanent</span>
firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">15672</span>/tcp <span class="token parameter variable">--permanent</span>

<span class="token comment"># 重载让配置生效</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-7.png" alt="image.png"><br>RabbitMQ默认自带一个用户名：guest，密码：guest的账户。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-8.png" alt="image.png"><br>进行登录以后会提示该账户只能本地登录，虽然我们可以通过修改rabbitmq.conf配置文件添加<code>loopback_users=none</code>的方式让guest默认账户允许远程访问，但是不建议这么做，因为这样会带来不必要的安全风险，此处建议做法是新建一个管理员账户，并且自定义设置强密码。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 创建账户（后面为用户名和密码）</span>
rabbitmqctl add_user admin scr1pt_yang.

<span class="token comment">#给用户授予管理员角色</span>
rabbitmqctl set_user_tags admin administrator

<span class="token comment">#给用户授权（&quot;/&quot;表示虚拟主机、&quot;admin&quot;表示用户名、&quot;.*&quot;&quot;.*&quot;&quot;.*&quot;表示完整权限）</span>
rabbitmqctl set_permissions <span class="token parameter variable">-p</span> <span class="token string">&quot;/&quot;</span> admin <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>

<span class="token comment">#查看所有用户</span>
rabbitmqctl list_users

Listing <span class="token function">users</span> <span class="token punctuation">..</span>.
user	tags
admin	<span class="token punctuation">[</span>administrator<span class="token punctuation">]</span>
guest	<span class="token punctuation">[</span>administrator<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/rabbitmq-9.png" alt="image.png"><br>使用admin账户进行登录，即可进入rabbitmq的后台控制端。可通过web可视化界面进行各类功能的管理，至此，rabbitmq的安装完成。</p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/pages/rabbitmq/" class="prev router-link-active">
          概述
        </a></span> <span class="next"><a href="/pages/rabbitmq/简单模式.html">
          2.简单模式(Hello World)
        </a></span></p></div> <div class="comments-wrapper" style="display:none;"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-1" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#一、mq的相关概念" class="sidebar-link reco-side-一、mq的相关概念" data-v-b57cc07c>一、MQ的相关概念</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1、什么是mq" class="sidebar-link reco-side-_1、什么是mq" data-v-b57cc07c>1、什么是MQ</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2、mq应用场景" class="sidebar-link reco-side-_2、mq应用场景" data-v-b57cc07c>2、MQ应用场景</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1-应用解耦" class="sidebar-link reco-side-_1-应用解耦" data-v-b57cc07c>1.应用解耦</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2-流量消峰" class="sidebar-link reco-side-_2-流量消峰" data-v-b57cc07c>2.流量消峰</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_3-异步处理" class="sidebar-link reco-side-_3-异步处理" data-v-b57cc07c>3.异步处理</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_3、mq的分类" class="sidebar-link reco-side-_3、mq的分类" data-v-b57cc07c>3、MQ的分类</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1-activemq" class="sidebar-link reco-side-_1-activemq" data-v-b57cc07c>1.ActiveMQ</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2-kafka" class="sidebar-link reco-side-_2-kafka" data-v-b57cc07c>2.Kafka</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_3-rocketmq" class="sidebar-link reco-side-_3-rocketmq" data-v-b57cc07c>3.RocketMQ</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_4-rabbitmq" class="sidebar-link reco-side-_4-rabbitmq" data-v-b57cc07c>4.RabbitMQ</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_4、mq的比较" class="sidebar-link reco-side-_4、mq的比较" data-v-b57cc07c>4、MQ的比较</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_5、amqp和jms" class="sidebar-link reco-side-_5、amqp和jms" data-v-b57cc07c>5、AMQP和JMS</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#二、rabbitmq简介" class="sidebar-link reco-side-二、rabbitmq简介" data-v-b57cc07c>二、RabbitMQ简介</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1、四大组成部分" class="sidebar-link reco-side-_1、四大组成部分" data-v-b57cc07c>1、四大组成部分</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2、rabbitmq核心概念" class="sidebar-link reco-side-_2、rabbitmq核心概念" data-v-b57cc07c>2、RabbitMQ核心概念</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1-producer" class="sidebar-link reco-side-_1-producer" data-v-b57cc07c>1.Producer</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2-consumer" class="sidebar-link reco-side-_2-consumer" data-v-b57cc07c>2.Consumer</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_3-connection" class="sidebar-link reco-side-_3-connection" data-v-b57cc07c>3.Connection</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_4-channel" class="sidebar-link reco-side-_4-channel" data-v-b57cc07c>4.Channel</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_5-broker" class="sidebar-link reco-side-_5-broker" data-v-b57cc07c>5.Broker</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_6-queue" class="sidebar-link reco-side-_6-queue" data-v-b57cc07c>6.Queue</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_7-exchange" class="sidebar-link reco-side-_7-exchange" data-v-b57cc07c>7.Exchange</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_8-binding" class="sidebar-link reco-side-_8-binding" data-v-b57cc07c>8.Binding</a></li><li class="level-3" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_9-virtual-host" class="sidebar-link reco-side-_9-virtual-host" data-v-b57cc07c>9.Virtual Host</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_3、rabbitmq工作模式" class="sidebar-link reco-side-_3、rabbitmq工作模式" data-v-b57cc07c>3、RabbitMQ工作模式</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#三、rabbitmq安装" class="sidebar-link reco-side-三、rabbitmq安装" data-v-b57cc07c>三、RabbitMQ安装</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_1、安装-erlang" class="sidebar-link reco-side-_1、安装-erlang" data-v-b57cc07c>1、安装 Erlang</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/rabbitmq/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#_2、安装rabbitmq" class="sidebar-link reco-side-_2、安装rabbitmq" data-v-b57cc07c>2、安装RabbitMQ</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><canvas id="vuepress-canvas-ribbon"></canvas><!----></div></div>
    <script src="/assets/js/app.b91711c7.js" defer></script><script src="/assets/js/7.9d515fbf.js" defer></script><script src="/assets/js/2.5da332ff.js" defer></script><script src="/assets/js/1.4298cda3.js" defer></script><script src="/assets/js/63.4a797bc8.js" defer></script>
  </body>
</html>
