<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker常用命令 | Wiki知识库</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="纵有疾风起，人生不言弃">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.2781b1a9.css" as="style"><link rel="preload" href="/assets/js/app.bf71dce3.js" as="script"><link rel="preload" href="/assets/js/7.9d515fbf.js" as="script"><link rel="preload" href="/assets/js/2.5da332ff.js" as="script"><link rel="preload" href="/assets/js/1.4298cda3.js" as="script"><link rel="preload" href="/assets/js/42.366b7f98.js" as="script"><link rel="prefetch" href="/assets/js/10.d355181a.js"><link rel="prefetch" href="/assets/js/11.8134c8e9.js"><link rel="prefetch" href="/assets/js/14.b0d5c555.js"><link rel="prefetch" href="/assets/js/15.ccee4aa5.js"><link rel="prefetch" href="/assets/js/16.c1837ea3.js"><link rel="prefetch" href="/assets/js/17.25ce5de6.js"><link rel="prefetch" href="/assets/js/18.975768de.js"><link rel="prefetch" href="/assets/js/19.41d12e27.js"><link rel="prefetch" href="/assets/js/20.c933e526.js"><link rel="prefetch" href="/assets/js/21.0c7ffc83.js"><link rel="prefetch" href="/assets/js/22.ce27a662.js"><link rel="prefetch" href="/assets/js/23.1956bc99.js"><link rel="prefetch" href="/assets/js/24.a9868885.js"><link rel="prefetch" href="/assets/js/25.d4488dc7.js"><link rel="prefetch" href="/assets/js/26.dcece5f0.js"><link rel="prefetch" href="/assets/js/27.bbdc0b8a.js"><link rel="prefetch" href="/assets/js/28.b2aedd35.js"><link rel="prefetch" href="/assets/js/29.acfc3a3b.js"><link rel="prefetch" href="/assets/js/3.13a69347.js"><link rel="prefetch" href="/assets/js/30.84c3f959.js"><link rel="prefetch" href="/assets/js/31.31ae9989.js"><link rel="prefetch" href="/assets/js/32.581577ae.js"><link rel="prefetch" href="/assets/js/33.944c0534.js"><link rel="prefetch" href="/assets/js/34.a4aa8037.js"><link rel="prefetch" href="/assets/js/35.57055faf.js"><link rel="prefetch" href="/assets/js/36.c04313ea.js"><link rel="prefetch" href="/assets/js/37.03d0ce84.js"><link rel="prefetch" href="/assets/js/38.adfa6339.js"><link rel="prefetch" href="/assets/js/39.408c0071.js"><link rel="prefetch" href="/assets/js/4.1112ff6a.js"><link rel="prefetch" href="/assets/js/40.e5955bec.js"><link rel="prefetch" href="/assets/js/41.cf5e835e.js"><link rel="prefetch" href="/assets/js/43.404340f4.js"><link rel="prefetch" href="/assets/js/44.8ed021cd.js"><link rel="prefetch" href="/assets/js/45.b0c45fae.js"><link rel="prefetch" href="/assets/js/46.36f05751.js"><link rel="prefetch" href="/assets/js/47.f748f734.js"><link rel="prefetch" href="/assets/js/48.03ac42f7.js"><link rel="prefetch" href="/assets/js/49.98848f94.js"><link rel="prefetch" href="/assets/js/5.7f78909b.js"><link rel="prefetch" href="/assets/js/50.dd33d1e1.js"><link rel="prefetch" href="/assets/js/51.58fb1248.js"><link rel="prefetch" href="/assets/js/52.d6bb03b4.js"><link rel="prefetch" href="/assets/js/53.b7d4264a.js"><link rel="prefetch" href="/assets/js/54.83fadca2.js"><link rel="prefetch" href="/assets/js/55.b48f6372.js"><link rel="prefetch" href="/assets/js/56.522d497b.js"><link rel="prefetch" href="/assets/js/57.e8aa32ea.js"><link rel="prefetch" href="/assets/js/58.1382b788.js"><link rel="prefetch" href="/assets/js/59.49d3b865.js"><link rel="prefetch" href="/assets/js/6.a8de1a57.js"><link rel="prefetch" href="/assets/js/8.4ec37cc7.js"><link rel="prefetch" href="/assets/js/9.e51dbdf5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a372b0f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2781b1a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Wiki知识库</h3> <p class="description" data-v-59e6cb88>纵有疾风起，人生不言弃</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Scr1Pt</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wiki知识库</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/nginx/" class="nav-link"><i class="iconfont reco-document"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/pages/redis/" class="nav-link"><i class="iconfont reco-document"></i>
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      云原生
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/docker/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="iconfont reco-document"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/scr1pt-yang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/头像.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    Scr1Pt
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>21</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>3</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/nginx/" class="nav-link"><i class="iconfont reco-document"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/pages/redis/" class="nav-link"><i class="iconfont reco-document"></i>
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      云原生
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/docker/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link"><i class="iconfont reco-document"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/scr1pt-yang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔记简介</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/docker/" aria-current="page" class="sidebar-link">概述</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>docker基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/docker/Docker简介.html" class="sidebar-link">1.Docker简介</a></li><li><a href="/pages/docker/Docker基本组成.html" class="sidebar-link">2.Docker基本组成</a></li><li><a href="/pages/docker/Docker安装.html" class="sidebar-link">3.Docker安装</a></li><li><a href="/pages/docker/Docker常用命令.html" class="active sidebar-link">4.Docker常用命令</a></li><li><a href="/pages/docker/Docker镜像.html" class="sidebar-link">5.Docker镜像</a></li><li><a href="/pages/docker/本地镜像发布到阿里云.html" class="sidebar-link">6.本地镜像发布到阿里云</a></li><li><a href="/pages/docker/本地镜像发布到私有库.html" class="sidebar-link">7.本地镜像发布到私有库</a></li><li><a href="/pages/docker/Docker容器数据卷.html" class="sidebar-link">8.Docker容器数据卷</a></li><li><a href="/pages/docker/Docker常规应用安装.html" class="sidebar-link">9.Docker常规应用安装</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Docker常用命令</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Scr1Pt</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Docker常用命令</h1> <div data-v-31f39441><i class="iconfont reco-account" data-v-31f39441><span data-v-31f39441>Scr1Pt</span></i> <i class="iconfont reco-date" data-v-31f39441><span data-v-31f39441>11/18/2023</span></i> <i class="iconfont reco-eye" data-v-31f39441><span id="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-31f39441><a class="leancloud-visitors-count" style="font-size:1rem;font-weight:700;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-31f39441><span class="tag-item" data-v-31f39441>docker容器</span></i></div></div> <div class="theme-reco-content content__default"><hr> <h1 id="一、帮助启动类命令"><a href="#一、帮助启动类命令" class="header-anchor">#</a> 一、帮助启动类命令</h1> <ul><li>启动docker： <code>systemctl start docker</code></li> <li>停止docker： <code>systemctl stop docker</code></li> <li>重启docker： <code>systemctl restart docker</code></li> <li>查看docker状态： <code>systemctl status docker</code></li> <li>开机启动： <code>systemctl enable docker</code></li> <li>查看docker概要信息： <code>docker info</code></li> <li>查看docker总体帮助文档： <code>docker --help</code></li> <li>查看docker命令帮助文档：<code>docker 具体命令 --help</code></li></ul> <h1 id="二、镜像操作命令"><a href="#二、镜像操作命令" class="header-anchor">#</a> 二、镜像操作命令</h1> <h2 id="_1、docker-images-列出镜像"><a href="#_1、docker-images-列出镜像" class="header-anchor">#</a> 1、docker images 列出镜像</h2> <p>命令格式：<code>docker images [OPTIONS]</code>，列出本地主机上的镜像。<br>OPTIONS说明：<br>-a :列出本地所有的镜像（含历史映像层）<br>-q :只显示镜像ID。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-24.png" alt=""></p> <div class="custom-block tip"><p class="title"></p><p>各个选项说明:<br>--REPOSITORY：	#表示镜像的仓库源<br>--TAG：			#镜像的标签版本号<br>--IMAGE ID：		#镜像ID<br>--CREATED：		#镜像创建时间<br>--SIZE：			#镜像大小</p></div><p>同一仓库源可以有多个 TAG版本，代表这个仓库源的不同个版本，我们使用 REPOSITORY:TAG 来定义不同的镜像。如果不指定一个镜像的版本标签，例如只使用 ubuntu，docker将默认使用 ubuntu:latest 镜像。</p> <h2 id="_2、docker-search-查找镜像"><a href="#_2、docker-search-查找镜像" class="header-anchor">#</a> 2、docker search 查找镜像</h2> <p>命令格式：<code>docker search [OPTIONS] 镜像名字</code>，根据镜像名字去dockerhub仓库上查找镜像。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-25.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-26.png" alt=""></p> <div class="custom-block tip"><p class="title"></p><p>OPTIONS说明：<br>--limit : 只列出N个镜像，默认25个<br>例如：docker search --limit 5 redis</p></div><h2 id="_3、docker-pull-下载镜像"><a href="#_3、docker-pull-下载镜像" class="header-anchor">#</a> 3、docker pull 下载镜像</h2> <p>命令格式：<code>docker pull 镜像名字[:TAG]</code>，根据镜像信息去hub上下载镜像到本地。<br>TAG可省略，没有TAG就会默认下载最新版，等价于<code>docker pull 镜像名字:latest</code><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-27.png" alt=""></p> <h2 id="_4、docker-system-df-查看空间"><a href="#_4、docker-system-df-查看空间" class="header-anchor">#</a> 4、docker system df 查看空间</h2> <p>命令格式：<code>docker system df</code>，查看镜像/容器/数据卷所占的空间<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-28.png" alt=""></p> <h2 id="_5、docker-rmi-删除镜像"><a href="#_5、docker-rmi-删除镜像" class="header-anchor">#</a> 5、docker rmi 删除镜像</h2> <p>命令格式：<code>docker rmi 镜像ID | 镜像名:TAG</code>，删除一个或多个镜像。<br>删除单个：<code>docker rmi -f 镜像ID</code><br>删除多个：<code>docker rmi -f 镜像名1:TAG 镜像名2:TAG</code><br>删除全部：<code>docker rmi -f $(docker images -qa)</code></p> <h2 id="_6、docker虚悬镜像"><a href="#_6、docker虚悬镜像" class="header-anchor">#</a> 6、docker虚悬镜像</h2> <p>仓库名、标签都是<code>&lt;none&gt;</code>的镜像，俗称虚悬镜像dangling image，例如以下这种：<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-29.png" alt=""><br>在实际开发中，在构建或者删除镜像时出错会有一定概率出现虚悬镜像。虚悬镜像不会被自动删除，因此可能会占用磁盘空间。<br>使用命令查看本地虚悬镜像<code>docker image ls -f dangling=true</code><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-30.png" alt=""><br>删除虚悬镜像：<code>docker image prune</code><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-31.png" alt=""></p> <h1 id="三、容器操作命令"><a href="#三、容器操作命令" class="header-anchor">#</a> 三、容器操作命令</h1> <h2 id="_1、前提说明"><a href="#_1、前提说明" class="header-anchor">#</a> 1、前提说明</h2> <p>有镜像才能创建容器， 这是根本前提。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-32.png" alt=""><br>实例化容器之前需要先docker pull将镜像拉取到本地。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 例如以下命令可以下载centos和ubuntu镜像到本地</span>
<span class="token function">docker</span> pull centos
<span class="token function">docker</span> pull ubuntu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-33.png" alt=""></p> <h2 id="_2、docker-run-新建-启动容器"><a href="#_2、docker-run-新建-启动容器" class="header-anchor">#</a> 2、docker run 新建+启动容器</h2> <p>命令格式：<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p> <div class="custom-block tip"><p class="title"></p><p>OPTIONS说明：（注意有些是一个减号，有些是两个减号）<br>--name=&quot;容器新名字&quot;       为容器指定一个名称；<br>-d：后台运行容器并返回容器ID，也即启动守护式容器(后台运行)；<br>-i：以交互模式运行容器，通常与 -t 同时使用；<br>-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用；也即启动交互式容器(前台有伪终端，等待交互)<br>-P: 随机端口映射，大写P<br>-p: 指定端口映射，小写p</p></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-34.png" alt=""></p> <h2 id="_3、启动交互式容器-前台命令行"><a href="#_3、启动交互式容器-前台命令行" class="header-anchor">#</a> 3、启动交互式容器(前台命令行)</h2> <p>这里重点介绍一下启动交互式容器(前台命令行)，这种方式会根据镜像以交互模式启动一个容器，并在容器内执行/bin/bash命令。例如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> centos /bin/bash 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="title"></p><p>参数说明：<br>-i: 交互式操作。<br>-t: 分配伪终端。<br>centos : 指定centos 镜像。<br>/bin/bash：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。<br>要退出终端，直接输入 exit 回车。</p></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-35.png" alt=""><br>可以看到在这个命令执行完以后我们的bash已经进入到了容器内部，此时我们输入的命令就会与容器进行交互。</p> <h2 id="_4、docker-ps-列出正在运行的容器"><a href="#_4、docker-ps-列出正在运行的容器" class="header-anchor">#</a> 4、docker ps 列出正在运行的容器</h2> <p>命令格式：<code>docker ps [OPTIONS]</code></p> <div class="custom-block tip"><p class="title"></p><p>OPTIONS说明：<br>-a：列出当前所有正在运行的容器+历史上运行过的。<br>-l：显示最近创建的容器。<br>-n：显示最近n个创建的容器。<br>-q：静默模式，只显示容器编号。</p></div><h2 id="_5、退出容器"><a href="#_5、退出容器" class="header-anchor">#</a> 5、退出容器</h2> <p>退出容器有两种退出方式，一种是直接使用<code>exit</code>退出，使用exit命令退出容器时，容器将被停止并且退出到宿主机的命令行界面。<br>另一种是使用<code>ctrl + p + q</code>退出，这种方式不会停止容器的运行，只是将容器切换到后台</p> <h2 id="_6、docker-start-启动容器"><a href="#_6、docker-start-启动容器" class="header-anchor">#</a> 6、docker start 启动容器</h2> <p>命令格式：<code>docker start 容器ID或者容器名</code><br>使用这种方式可以将已停止运行的容器启动起来。</p> <h2 id="_7、docker-restart-重启容器"><a href="#_7、docker-restart-重启容器" class="header-anchor">#</a> 7、docker restart 重启容器</h2> <p>命令格式：<code>docker restart 容器ID或者容器名</code></p> <h2 id="_8、docker-stop-停止容器"><a href="#_8、docker-stop-停止容器" class="header-anchor">#</a> 8、docker stop 停止容器</h2> <p>命令格式：<code>docker stop 容器ID或者容器名</code></p> <h2 id="_9、docker-kill-强制停止容器"><a href="#_9、docker-kill-强制停止容器" class="header-anchor">#</a> 9、docker kill 强制停止容器</h2> <p>命令格式：<code>docker kill 容器ID或容器名</code></p> <h2 id="_10、docker-rm-删除容器"><a href="#_10、docker-rm-删除容器" class="header-anchor">#</a> 10、docker rm 删除容器</h2> <p>命令格式：<code>docker rm 容器ID</code><br>一次性删除多个容器实例：<br><code>docker rm -f $(docker ps -a -q)</code><br><code>docker ps -a -q | xargs docker rm</code></p> <h1 id="四、进阶操作命令"><a href="#四、进阶操作命令" class="header-anchor">#</a> 四、进阶操作命令</h1> <h2 id="_1、启动守护式容器-后台服务器"><a href="#_1、启动守护式容器-后台服务器" class="header-anchor">#</a> 1、启动<strong>守护式容器(后台服务器)</strong></h2> <p>在大部分的场景下，我们希望 docker 的服务是在后台运行的， 我们可以通过 -d 指定容器的后台运行模式。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> 容器名
<span class="token comment"># 使用镜像centos:latest以后台模式启动一个容器</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> centos
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但此时会有一个问题：使用docker ps -a 进行查看, 会发现容器已经退出。<br>这里要说明的是，Docker容器后台运行,就必须有一个前台进程。容器运行的命令如果不是那些一直挂起的命令（比如运行top，tail），是会自动退出的。<br>这个是docker的机制问题，比如web容器，我们以nginx为例，正常情况下，我们配置启动服务只需要启动响应的service即可。例如service nginx start。但是，这样做，nginx为后台进程模式运行，就导致docker前台没有运行的应用，这样的容器后台启动后，会立即自杀因为他觉得他没事可做了。所以，最佳的解决方案是将要运行的程序以前台进程的形式运行，常见就是命令行模式，表示我还有交互操作，别中断。<br>所以有的容器是必须要与前台进行交互的例如centos、ubuntu等，需要使用<code>-it</code>来启动交互式容器，对于redis这种需要后台默默运行的。我们使用<code>-d</code>来启动守护式容器。</p> <h2 id="_2、查看容器日志"><a href="#_2、查看容器日志" class="header-anchor">#</a> 2、查看<strong>容器日志</strong></h2> <p>命令格式：<code>docker logs 容器ID</code></p> <h2 id="_3、查看容器内运行的进程"><a href="#_3、查看容器内运行的进程" class="header-anchor">#</a> 3、查看<strong>容器内运行的进程</strong></h2> <p>命令格式：<code>docker top 容器ID</code></p> <h2 id="_4、查看容器内部细节"><a href="#_4、查看容器内部细节" class="header-anchor">#</a> 4、查看<strong>容器内部细节</strong></h2> <p>命令格式：<code>docker inspect 容器ID</code></p> <h2 id="_5、进入容器并命令交互"><a href="#_5、进入容器并命令交互" class="header-anchor">#</a> 5、进入容器并命令交互</h2> <p>命令格式：<code>docker exec -it 容器ID bashShell</code><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-36.png" alt=""><br>还有一种进入方式是<code>docker attach 容器ID</code><br>那么这两者有什么区别？<br>使用attach 直接进入容器启动命令的终端，不会启动新的进程，当使用exit退出，会导致容器的停止。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-37.png" alt=""><br>使用exec 是在容器中打开新的终端，并且可以启动新的进程，用exit退出时，不会导致容器的停止。<br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-38.png" alt=""><br>推荐使用 docker exec 命令，因为退出容器终端，不会导致容器的停止。</p> <h2 id="_6、从容器内拷贝文件到主机"><a href="#_6、从容器内拷贝文件到主机" class="header-anchor">#</a> 6、从<strong>容器内拷贝文件到主机</strong></h2> <p>注意文件传输方向是从容器到主机。<br>命令格式：<code>docker cp 容器ID:容器内路径 目的主机路径</code><br><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-39.png" alt=""></p> <h2 id="_7、导入和导出容器"><a href="#_7、导入和导出容器" class="header-anchor">#</a> 7、导入和导出容器</h2> <p><code>export</code>导出容器的内容留作为一个tar归档文件<br><code>import</code>从tar包中的内容创建一个新的文件系统再导入为镜像</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">export</span> 容器ID <span class="token operator">&gt;</span> 文件名.tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-40.png" alt=""></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> 文件名.tar <span class="token operator">|</span> <span class="token function">docker</span> <span class="token function">import</span> - 镜像用户/镜像名:镜像版本号
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-41.png" alt=""></p> <h1 id="五、总结"><a href="#五、总结" class="header-anchor">#</a> 五、总结</h1> <p><img src="https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/docker-42.png" alt=""></p> <div class="custom-block tip"><p class="title">各字段说明：</p><p><strong>attach</strong><br>    Attach to a running container                 # 当前 shell 下 attach 连接指定运行镜像<br><strong>build</strong><br>     Build an image from a Dockerfile              # 通过 Dockerfile 定制镜像<br><strong>commit</strong><br>    Create a new image from a container changes   # 提交当前容器为新的镜像<br><strong>cp</strong><br>        Copy files/folders from the containers filesystem to the host path   #从容器中拷贝指定文件或者目录到宿主机中<br><strong>create</strong><br>    Create a new container                        # 创建一个新的容器，同 run，但不启动容器<br><strong>diff</strong><br>      Inspect changes on a container's filesystem   # 查看 docker 容器变化<br><strong>events</strong><br>    Get real time events from the server          # 从 docker 服务获取容器实时事件<br><strong>exec</strong><br>      Run a command in an existing container        # 在已存在的容器上运行命令<br><strong>export</strong><br>    Stream the contents of a container as a tar archive   # 导出容器的内容流作为一个 tar 归档文件[对应 import ]<br><strong>history</strong><br>   Show the history of an image                  # 展示一个镜像形成历史<br><strong>images</strong><br>    List images                                   # 列出系统当前镜像<br><strong>import</strong><br>    Create a new filesystem image from the contents of a tarball # 从tar包中的内容创建一个新的文件系统映像（对应export）<br><strong>info</strong><br>      Display system-wide information               # 显示系统相关信息<br><strong>inspect</strong><br>   Return low-level information on a container   # 查看容器详细信息<br><strong>kill</strong><br>      Kill a running container                      # kill 指定 docker 容器<br><strong>load</strong><br>      Load an image from a tar archive              # 从一个 tar 包中加载一个镜像[对应 save]<br><strong>login</strong><br>     Register or Login to the docker registry server    # 注册或者登陆一个 docker 源服务器<br><strong>logout</strong><br>    Log out from a Docker registry server          # 从当前 Docker registry 退出<br><strong>logs</strong><br>      Fetch the logs of a container                 # 输出当前容器日志信息<br><strong>port</strong><br>      Lookup the public-facing port which is NAT-ed to PRIVATE_PORT    # 查看映射端口对应的容器内部源端口<br><strong>pause</strong><br>     Pause all processes within a container        # 暂停容器<br><strong>ps</strong><br>        List containers                               # 列出容器列表<br><strong>pull</strong><br>      Pull an image or a repository from the docker registry server   # 从docker镜像源服务器拉取指定镜像或者库镜像<br><strong>push</strong><br>      Push an image or a repository to the docker registry server    # 推送指定镜像或者库镜像至docker源服务器<br><strong>restart</strong><br>   Restart a running container                   # 重启运行的容器<br><strong>rm</strong><br>        Remove one or more containers                 # 移除一个或者多个容器<br><strong>rmi</strong><br>       Remove one or more images       # 移除一个或多个镜像[无容器使用该镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除]<br><strong>run</strong><br>       Run a command in a new container              # 创建一个新的容器并运行一个命令<br><strong>save</strong><br>      Save an image to a tar archive                # 保存一个镜像为一个 tar 包[对应 load]<br><strong>search</strong><br>    Search for an image on the Docker Hub         # 在 docker hub 中搜索镜像<br><strong>start</strong><br>     Start a stopped containers                    # 启动容器<br><strong>stop</strong><br>      Stop a running containers                     # 停止容器<br><strong>tag</strong><br>       Tag an image into a repository                # 给源中镜像打标签<br><strong>top</strong><br>       Lookup the running processes of a container   # 查看容器中运行的进程信息<br><strong>unpause</strong><br>   Unpause a paused container                    # 取消暂停容器<br><strong>version</strong><br>   Show the docker version information           # 查看 docker 版本号<br><strong>wait</strong><br>     Block until a container stops, then print its exit code   # 截取容器停止时的退出状态值</p></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/pages/docker/Docker安装.html" class="prev">
          3.Docker安装
        </a></span> <span class="next"><a href="/pages/docker/Docker镜像.html">
          5.Docker镜像
        </a></span></p></div> <div class="comments-wrapper" style="display:none;"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-1" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#一、帮助启动类命令" class="sidebar-link reco-side-一、帮助启动类命令" data-v-b57cc07c>一、帮助启动类命令</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#二、镜像操作命令" class="sidebar-link reco-side-二、镜像操作命令" data-v-b57cc07c>二、镜像操作命令</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1、docker-images-列出镜像" class="sidebar-link reco-side-_1、docker-images-列出镜像" data-v-b57cc07c>1、docker images 列出镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2、docker-search-查找镜像" class="sidebar-link reco-side-_2、docker-search-查找镜像" data-v-b57cc07c>2、docker search 查找镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3、docker-pull-下载镜像" class="sidebar-link reco-side-_3、docker-pull-下载镜像" data-v-b57cc07c>3、docker pull 下载镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4、docker-system-df-查看空间" class="sidebar-link reco-side-_4、docker-system-df-查看空间" data-v-b57cc07c>4、docker system df 查看空间</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5、docker-rmi-删除镜像" class="sidebar-link reco-side-_5、docker-rmi-删除镜像" data-v-b57cc07c>5、docker rmi 删除镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6、docker虚悬镜像" class="sidebar-link reco-side-_6、docker虚悬镜像" data-v-b57cc07c>6、docker虚悬镜像</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#三、容器操作命令" class="sidebar-link reco-side-三、容器操作命令" data-v-b57cc07c>三、容器操作命令</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1、前提说明" class="sidebar-link reco-side-_1、前提说明" data-v-b57cc07c>1、前提说明</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2、docker-run-新建-启动容器" class="sidebar-link reco-side-_2、docker-run-新建-启动容器" data-v-b57cc07c>2、docker run 新建+启动容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3、启动交互式容器-前台命令行" class="sidebar-link reco-side-_3、启动交互式容器-前台命令行" data-v-b57cc07c>3、启动交互式容器(前台命令行)</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4、docker-ps-列出正在运行的容器" class="sidebar-link reco-side-_4、docker-ps-列出正在运行的容器" data-v-b57cc07c>4、docker ps 列出正在运行的容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5、退出容器" class="sidebar-link reco-side-_5、退出容器" data-v-b57cc07c>5、退出容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6、docker-start-启动容器" class="sidebar-link reco-side-_6、docker-start-启动容器" data-v-b57cc07c>6、docker start 启动容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_7、docker-restart-重启容器" class="sidebar-link reco-side-_7、docker-restart-重启容器" data-v-b57cc07c>7、docker restart 重启容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_8、docker-stop-停止容器" class="sidebar-link reco-side-_8、docker-stop-停止容器" data-v-b57cc07c>8、docker stop 停止容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_9、docker-kill-强制停止容器" class="sidebar-link reco-side-_9、docker-kill-强制停止容器" data-v-b57cc07c>9、docker kill 强制停止容器</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_10、docker-rm-删除容器" class="sidebar-link reco-side-_10、docker-rm-删除容器" data-v-b57cc07c>10、docker rm 删除容器</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#四、进阶操作命令" class="sidebar-link reco-side-四、进阶操作命令" data-v-b57cc07c>四、进阶操作命令</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1、启动守护式容器-后台服务器" class="sidebar-link reco-side-_1、启动守护式容器-后台服务器" data-v-b57cc07c>1、启动守护式容器(后台服务器)</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2、查看容器日志" class="sidebar-link reco-side-_2、查看容器日志" data-v-b57cc07c>2、查看容器日志</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3、查看容器内运行的进程" class="sidebar-link reco-side-_3、查看容器内运行的进程" data-v-b57cc07c>3、查看容器内运行的进程</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4、查看容器内部细节" class="sidebar-link reco-side-_4、查看容器内部细节" data-v-b57cc07c>4、查看容器内部细节</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5、进入容器并命令交互" class="sidebar-link reco-side-_5、进入容器并命令交互" data-v-b57cc07c>5、进入容器并命令交互</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6、从容器内拷贝文件到主机" class="sidebar-link reco-side-_6、从容器内拷贝文件到主机" data-v-b57cc07c>6、从容器内拷贝文件到主机</a></li><li class="level-2" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_7、导入和导出容器" class="sidebar-link reco-side-_7、导入和导出容器" data-v-b57cc07c>7、导入和导出容器</a></li><li class="level-1" data-v-b57cc07c><a href="/pages/docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#五、总结" class="sidebar-link reco-side-五、总结" data-v-b57cc07c>五、总结</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><canvas id="vuepress-canvas-ribbon"></canvas><!----></div></div>
    <script src="/assets/js/app.bf71dce3.js" defer></script><script src="/assets/js/7.9d515fbf.js" defer></script><script src="/assets/js/2.5da332ff.js" defer></script><script src="/assets/js/1.4298cda3.js" defer></script><script src="/assets/js/42.366b7f98.js" defer></script>
  </body>
</html>
