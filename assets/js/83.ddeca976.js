(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{497:function(t,s,a){"use strict";a.r(s);var r=a(2),i=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("hr"),t._v(" "),s("h1",{attrs:{id:"一、简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、简介"}},[t._v("#")]),t._v(" 一、简介")]),t._v(" "),s("p",[t._v("在Redis 安装完毕后会自动安装一个redis-benchmark 测试工具，其是一个压力测试工具，用于测试 Redis 的性能。"),s("br"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-67.png",alt:"image.png"}}),s("br"),t._v("通过 redis benchmark help 命令可以查看到其用法："),s("br"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-68.png",alt:"image.png"}}),s("br"),t._v("其选项 options 非常多，下面通过例子来学习常用的 options 的用法。")]),t._v(" "),s("h1",{attrs:{id:"二、测试-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、测试-1"}},[t._v("#")]),t._v(" 二、测试-1")]),t._v(" "),s("h2",{attrs:{id:"_1、命令解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、命令解析"}},[t._v("#")]),t._v(" 1、命令解析")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-69.png",alt:"image.png"}}),s("br"),t._v("以上命令中选项的意义："),s("br"),t._v("●  -h：指定要测试的 Redis 的 IP，若为本机，则可省略。"),s("br"),t._v("●  -p：指定要测试的 Redis 的 port，若为 6379，则可省略。"),s("br"),t._v("●  -c：指定模拟有客户端的数量，默认值为 50。"),s("br"),t._v("●  -n：指定这些客户端发出的请求的总量，默认值为 100000。"),s("br"),t._v("●  -d：指定测试get/set 命令时其操作的value 的数据长度，单位字节，默认值为 3。在测试其它命令时该指定没有用处。"),s("br"),t._v("以上命令的意义是，使用 100 个客户端连接该 Redis，这些客户端总共会发起 100000个请求，set/get 的value 为 8 字节数据。")]),t._v(" "),s("h2",{attrs:{id:"_2、测试结果分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、测试结果分析"}},[t._v("#")]),t._v(" 2、测试结果分析")]),t._v(" "),s("p",[t._v("该命令会逐个测试所有 Redis 命令，每个命令都会给出一份测试报告，每个测试报告由四部分构成：")]),t._v(" "),s("h3",{attrs:{id:"_1-测试环境报告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-测试环境报告"}},[t._v("#")]),t._v(" 1.测试环境报告")]),t._v(" "),s("p",[t._v("首先就是测试环境："),s("br"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-70.png",alt:"image.png"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"},[t._v("ChatGPT：")]),s("ul",[s("li",[t._v('"100000 requests completed in 0.56 seconds": 这表示在0.56秒内完成了10万次请求。')]),t._v(" "),s("li",[t._v('"100 parallel clients": 同时有100个并发客户端进行测试。')]),t._v(" "),s("li",[t._v('"8 bytes payload": 每个请求携带的数据大小为8字节。')]),t._v(" "),s("li",[t._v('"keep alive:1": 表示 keep-alive 参数设置为1，即开启了长连接。')]),t._v(" "),s("li",[t._v('"host configuration "save":3600 1 300 100 60 10000": 这部分可能是关于Redis持久化(save)配置的参数设置，包括时间间隔等。')]),t._v(" "),s("li",[t._v('"host configuration "appendonly":no": 这是关于Redis的append only文件的配置，这里设置为了不开启。')])])]),s("h3",{attrs:{id:"_2-延迟百分比分布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-延迟百分比分布"}},[t._v("#")]),t._v(" 2.延迟百分比分布")]),t._v(" "),s("p",[t._v("这是按照百分比进行的统计报告：每完成一次剩余测试量的50% 就给出一个统计数据。"),s("br"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-71.png",alt:"image.png"}})]),t._v(" "),s("h3",{attrs:{id:"_3-延迟的累积分布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-延迟的累积分布"}},[t._v("#")]),t._v(" 3.延迟的累积分布")]),t._v(" "),s("p",[t._v("这是按照时间间隔统计的报告：基本是每 0.1 毫秒统计一次。"),s("br"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-72.png",alt:"image.png"}})]),t._v(" "),s("h3",{attrs:{id:"_4-总述报告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-总述报告"}},[t._v("#")]),t._v(" 4.总述报告")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-73.png",alt:"image.png"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"},[t._v("ChatGPT：")]),s("ul",[s("li",[t._v('"throughput summary: 72046.11 requests per second": 表示每秒处理了大约72046.11个请求，这是一个很高的吞吐量，显示了系统的处理能力很强。')]),t._v(" "),s("li",[t._v('"latency summary (msec)": 这部分是关于延迟的总结。\n'),s("ul",[s("li",[t._v('"avg": 平均延迟为0.714毫秒。')]),t._v(" "),s("li",[t._v('"min": 最小延迟为0.328毫秒。')]),t._v(" "),s("li",[t._v('"p50": 50%的请求的延迟在0.695毫秒以内。')]),t._v(" "),s("li",[t._v('"p95": 95%的请求的延迟在0.855毫秒以内。')]),t._v(" "),s("li",[t._v('"p99": 99%的请求的延迟在1.295毫秒以内。')]),t._v(" "),s("li",[t._v('"max": 最大延迟为3.823毫秒。')])])])])]),s("h1",{attrs:{id:"三、测试-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、测试-2"}},[t._v("#")]),t._v(" 三、测试-2")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/scr1pt-yang/mypichost@main/img/redis-74.png",alt:"image.png"}}),s("br"),t._v("以上命令中选项的意义："),s("br"),t._v("●  -t：指定要测试的命令，多个命令使用逗号分隔，不能有空格。"),s("br"),t._v("●  -q：指定仅给出总述性报告。")])])}),[],!1,null,null,null);s.default=i.exports}}]);